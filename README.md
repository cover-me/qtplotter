# qtplotter

[![Binder](https://mybinder.org/badge_logo.svg)](https://mybinder.org/v2/gh/cover-me/qtplotter/master?filepath=index.ipynb)
[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/cover-me/qtplotter/blob/master/index.ipynb)

A data visualization notebook inspired by [Rubenknex/qtplot](https://github.com/Rubenknex/qtplot) and [gsteele13/spyview](https://github.com/gsteele13/spyview). Most of the code is grabbed from qtplot.

It's a simpler, easier-to-access version of qtplot for visualizing and interacting with our shared quantum transport data.

## Files

index.ipynb: A demo for interactively visualizing shared-online data. 

example.ipynb: More examples, especially of generating static figures.

qtplotter.py: The main code is here.


## Preview .ipynb files

These files can be directly previewed on GitHub. However, GitHub doesn't render ipywidgets (which is used for interaction). You can preview notebooks on [jupyter.org](https://nbviewer.jupyter.org/) for a better experience. (Links: [index.ipynb](https://nbviewer.jupyter.org/github/cover-me/qtplotter/blob/master/index.ipynb), [example.ipynb](https://nbviewer.jupyter.org/github/cover-me/qtplotter/blob/master/example.ipynb))

However, even Jupyter nbviewer can not render complicated widgets correctly at this moment. Many widgets just disappear in all notebook viewers (a quick check: export notebook as an HTML file and check if there is anything missing). As notebooks are used for sharing and viewing, it's important to avoid images in widgets if this problem has not been solved. And here is how:

Run `Player.PLAYER_STATIC = True` once and all "interactive" figures generated by `play()` will be just static snapshots that can be directly saved in a notebook for sharing/viewing. Remember to delete `Player.PLAYER_STATIC = True` before saving/sharing the notebook.

## Run .ipynb files in the cloud

Click the badges at the begging of this readme file to launch index.ipynb.

### Binder

The notebooks can be run on [mybinder.org](https://mybinder.org/) directly so that the shared data, no matter local or online, can be visualized interactively with a few clicks, by anyone, anywhere. 

It usually takes less than 20 seconds to launch, but sometimes more than 1 minute. After having launched, use the `open->files...` menu to go to the files page where you can open other notebooks or download generated files.

### Colab

It also works on Colab. Colab has native support for table of contents, which is awesome for notebooks. Colab doesn't support ipywidgets very well (no `%matplotlib widget` at all). But `%matplotlib inline` mode works (even for interaction, though slower than `widget` as `inline` backend redraws the whole figure every time).

Colab doesn't import additional files from GitHub repositories automatically as Binder does. One has to upload qtplotter.py to Colab's temporary runtime manually in order to run the notebook, or copy-paste-run code from qtplotter.py in the notebook. The correct "uploading file" menu is on the left of the Colab interface. There is a "folder" icon below the "show table of contents" icon and the "show code snippet pane" icon. Uploading files to google drive also works but requires some hacking. Another way to dump files from this repositories is to run the code below in the notebook:

```
!git clone https://github.com/cover-me/qtplotter
%cd "qtplotter"
```
